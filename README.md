<!-- 
  ** DO NOT EDIT THIS FILE
  ** 
  ** This file was automatically generated. 
  ** 1) Make all changes to `README.yaml` 
  ** 2) Run `make init` (you only need to do this once)
  ** 3) Run`make readme` to rebuild this file. 
  -->
[![README Header][readme_header_img]][readme_header_link]

[![cloudopsworks][logo]](https://cloudops.works/)

# Terraform AWS SES Configuration Set Setup




This Terraform module sets up AWS SES (Simple Email Service) Configuration Sets. Configuration Sets in 
SES are used to manage groups of email sending rules. This module allows you to define various options for delivery, 
reputation, sending, suppression, tracking, and VDM (Virtual Deliverability Manager) settings. 
It supports dynamic configuration based on the provided input variables, making it flexible and customizable for 
different use cases. The module also includes tagging support to help organize and manage resources within your 
AWS environment.


---

This project is part of our comprehensive approach towards DevOps Acceleration. 
[<img align="right" title="Share via Email" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/ios-mail.svg"/>][share_email]
[<img align="right" title="Share on Google+" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-googleplus.svg" />][share_googleplus]
[<img align="right" title="Share on Facebook" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-facebook.svg" />][share_facebook]
[<img align="right" title="Share on Reddit" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-reddit.svg" />][share_reddit]
[<img align="right" title="Share on LinkedIn" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-linkedin.svg" />][share_linkedin]
[<img align="right" title="Share on Twitter" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-twitter.svg" />][share_twitter]


[![Terraform Open Source Modules](https://docs.cloudops.works/images/terraform-open-source-modules.svg)][terraform_modules]



It's 100% Open Source and licensed under the [APACHE2](LICENSE).







We have [*lots of terraform modules*][terraform_modules] that are Open Source and we are trying to get them well-maintained!. Check them out!






## Introduction

This Terraform module provides a comprehensive solution for managing AWS SES Configuration Sets. It enables you to:

- Create and manage multiple SES Configuration Sets
- Configure delivery options, reputation metrics, and sending settings
- Set up event tracking and Virtual Deliverability Manager (VDM) options
- Define event destinations for monitoring and analytics
- Implement suppression and tracking configurations

The module is designed to be flexible and scalable, supporting various AWS service integrations including CloudWatch, 
EventBridge, Kinesis Firehose, SNS, and Pinpoint for event tracking and management.

## Usage


**IMPORTANT:** The `master` branch is used in `source` just as an example. In your code, do not pin to `master` because there may be breaking changes between releases.
Instead pin to the release tag (e.g. `?ref=vX.Y.Z`) of one of our [latest releases](https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets/releases).


To use this module, include it in your Terraform configuration with the required variables:

```hcl
module "ses_config_sets" {
  source = "cloudopsworks/terraform-module-aws-ses-configuration-sets"

  configs = {
    primary_config = {
      name = "primary-email-config"
      delivery_options = {
        sending_pool_name = "production-pool"
        tls_policy       = "REQUIRE"
      }
      reputation_metrics_enabled = true
      sending_enabled           = true
      vdm_options = {
        engagement_metrics_enabled = true
      }
      event_destinations = {
        cloudwatch_metrics = {
          enabled = true
          matching_types = ["SEND", "REJECT", "BOUNCE", "COMPLAINT"]
          cloudwatch = {
            dimension_name         = "email-events"
            dimension_value_source = "MESSAGE_TAG"
          }
        }
      }
    }
  }
}
```

### Configuration Options

The module supports extensive configuration through the `configs` variable:

- **Delivery Options**: Configure TLS policies and sending pools
- **Reputation Metrics**: Enable/disable reputation tracking
- **Event Destinations**: Set up various destinations for event tracking
- **VDM Options**: Configure Virtual Deliverability Manager settings
- **Tracking Options**: Set up custom redirect domains and HTTPS policies

### config Input Variable
```yaml
configs:
  <configset_id>:
    name: <string> # Optional. The name of the configuration set. If not provided, the configset_id or name_prefix will be used.
    name_prefix: <string> # Optional. The prefix to use for the configuration set name. If not provided, the configset_id will be used. Overriden by the name attribute.
    delivery_options:
      max_delivery_seconds: <number> # Optional. The maximum amount of time, in seconds, that an email can remain in the system before being sent.
      sending_pool_name: <string> # Optional. The name of the dedicated IP pool that you want to associate with the configuration set.
      tls_policy: <string> # Optional. The TLS policy that is used to encrypt the email content.
    reputation_metrics_enabled: <bool> # Optional. Indicates whether or not reputation metrics are enabled for the configuration set.
    sending_enabled: <bool> # Optional. Indicates whether or not email sending is enabled for the configuration set.
    suppressed_reasons: <string> # Optional. A list of reasons that email sending is suppressed for the configuration set.
    tracking_options:
      custom_redirect_domain: <string> # Optional. The domain that you want to use for tracking open and click events.
      https_policy: <string> # Optional. The open and click tracking options for the configuration set.
    vdm_options:
      engagement_metrics_enabled: <bool> # Optional. Indicates whether or not the configuration set has engagement metrics enabled.
      optimized_shared_delivery_enabled: <bool> # Optional. Indicates whether or not the configuration set has optimized shared delivery enabled.
    event_destinations:
      <destination_id>: # The ID of the destination. will be used as destination_name
        enabled: <bool> # Indicates whether or not the event destination is enabled.
        matching_types: <list(string)> # The types of events that are sent to the event destination.
        cloudwatch: # Optional. The CloudWatch destination for the event destination.
          default_dimension_value: <string> # The default value of the dimension that is published to Amazon CloudWatch.
          dimension_name: <string> # The name of the dimension that is published to Amazon CloudWatch.
          dimension_value_source: <string> # The source of the dimension that is published to Amazon CloudWatch.
        event_bridge: # Optional. The Amazon EventBridge destination for the event destination.
          event_bus_arn: <string> # The ARN of the Amazon EventBridge bus that you want to publish events to.
        kinesis_firehose: # Optional. The Kinesis Firehose destination for the event destination.
          delivery_stream_arn: <string> # The ARN of the Kinesis Firehose delivery stream that you want to publish events to.
          iam_role_arn: <string> # The ARN of the IAM role that gives Amazon SES permission to publish events to the Kinesis Firehose delivery stream.
        sns: # Optional. The Amazon SNS destination for the event destination.
          topic_arn: <string> # The ARN of the Amazon SNS topic that you want to publish events to.
        pinpoint: # Optional. The Amazon Pinpoint destination for the event destination.
          application_arn: <string> # The Amazon Resource Name (ARN) of the Amazon Pinpoint project that you want to publish events to.
```

## Quick Start

1. Add the module to your Terraform configuration:
   ```hcl
   module "ses_config" {
     source = "cloudopsworks/terraform-module-aws-ses-configuration-sets"

     configs = {
       default = {
         name = "default-config"
         sending_enabled = true
         event_destinations = {
           basic_tracking = {
             enabled = true
             matching_types = ["SEND", "BOUNCE", "COMPLAINT"]
             cloudwatch = {
               dimension_name = "EmailEvents"
               dimension_value_source = "MESSAGE_TAG"
               default_dimension_value = "default"
             }
           }
         }
       }
     }
   }
   ```

2. Initialize Terraform:
   ```bash
   terraform init
   ```

3. Review the execution plan:
   ```bash
   terraform plan
   ```

4. Apply the configuration:
   ```bash
   terraform apply
   ```

5. Access the configuration set details through outputs:
   ```hcl
   output "config_sets" {
     value = module.ses_config.configuration_sets
   }
   ```


## Examples

### Basic Terragrunt Configuration
```hcl
include "root" {
  path = find_in_parent_folders()
}

terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets.git?ref=v1.0.0"
}

inputs = {
  configs = {
    marketing_emails = {
      name_prefix = "marketing"
      delivery_options = {
        tls_policy = "REQUIRE"
      }
      event_destinations = {
        analytics = {
          enabled = true
          matching_types = ["SEND", "OPEN", "CLICK"]
          kinesis_firehose = {
            delivery_stream_arn = "arn:aws:firehose:us-west-2:123456789012:deliverystream/ses-events"
            iam_role_arn = "arn:aws:iam::123456789012:role/ses-firehose-role"
          }
        }
      }
    }
  }
}
```

### Advanced Configuration with Multiple Destinations
```hcl
inputs = {
  configs = {
    transactional = {
      name = "transactional-emails"
      delivery_options = {
        sending_pool_name = "dedicated-pool"
        tls_policy = "REQUIRE"
      }
      event_destinations = {
        monitoring = {
          enabled = true
          matching_types = ["REJECT", "BOUNCE", "COMPLAINT"]
          sns = {
            topic_arn = "arn:aws:sns:us-west-2:123456789012:email-alerts"
          }
        }
        metrics = {
          enabled = true
          matching_types = ["SEND", "DELIVERY"]
          cloudwatch = {
            dimension_name = "EmailType"
            dimension_value_source = "MESSAGE_TAG"
            default_dimension_value = "transactional"
          }
        }
      }
    }
  }
}
```



## Makefile Targets
```
Available targets:

  help                                Help screen
  help/all                            Display help for all targets
  help/short                          This help short screen
  lint                                Lint terraform/opentofu code
  tag                                 Tag the current version

```
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 6.4 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 6.8.0 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_tags"></a> [tags](#module\_tags) | cloudopsworks/tags/local | 1.0.9 |

## Resources

| Name | Type |
|------|------|
| [aws_sesv2_configuration_set.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sesv2_configuration_set) | resource |
| [aws_sesv2_configuration_set_event_destination.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sesv2_configuration_set_event_destination) | resource |
| [aws_region.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_configs"></a> [configs](#input\_configs) | A map of configuration settings that will be used to configure the SES Configuration Sets module. | `any` | `{}` | no |
| <a name="input_extra_tags"></a> [extra\_tags](#input\_extra\_tags) | Extra tags to add to the resources | `map(string)` | `{}` | no |
| <a name="input_is_hub"></a> [is\_hub](#input\_is\_hub) | Is this a hub or spoke configuration? | `bool` | `false` | no |
| <a name="input_org"></a> [org](#input\_org) | Organization details | <pre>object({<br/>    organization_name = string<br/>    organization_unit = string<br/>    environment_type  = string<br/>    environment_name  = string<br/>  })</pre> | n/a | yes |
| <a name="input_spoke_def"></a> [spoke\_def](#input\_spoke\_def) | Spoke ID Number, must be a 3 digit number | `string` | `"001"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_configuration_sets"></a> [configuration\_sets](#output\_configuration\_sets) | n/a |
| <a name="output_event_destinations"></a> [event\_destinations](#output\_event\_destinations) | n/a |



## Help

**Got a question?** We got answers. 

File a GitHub [issue](https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets/issues), send us an [email][email] or join our [Slack Community][slack].

[![README Commercial Support][readme_commercial_support_img]][readme_commercial_support_link]

## DevOps Tools

## Slack Community


## Newsletter

## Office Hours

## Contributing

### Bug Reports & Feature Requests

Please use the [issue tracker](https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets/issues) to report any bugs or file feature requests.

### Developing




## Copyrights

Copyright © 2024-2025 [Cloud Ops Works LLC](https://cloudops.works)





## License 

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0) 

See [LICENSE](LICENSE) for full details.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.









## Trademarks

All other trademarks referenced herein are the property of their respective owners.

## About

This project is maintained by [Cloud Ops Works LLC][website]. 


### Contributors

|  [![Cristian Beraha][berahac_avatar]][berahac_homepage]<br/>[Cristian Beraha][berahac_homepage] |
|---|

  [berahac_homepage]: https://github.com/berahac
  [berahac_avatar]: https://github.com/berahac.png?size=50

[![README Footer][readme_footer_img]][readme_footer_link]
[![Beacon][beacon]][website]

  [logo]: https://cloudops.works/logo-300x69.svg
  [docs]: https://cowk.io/docs?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=docs
  [website]: https://cowk.io/homepage?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=website
  [github]: https://cowk.io/github?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=github
  [jobs]: https://cowk.io/jobs?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=jobs
  [hire]: https://cowk.io/hire?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=hire
  [slack]: https://cowk.io/slack?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=slack
  [linkedin]: https://cowk.io/linkedin?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=linkedin
  [twitter]: https://cowk.io/twitter?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=twitter
  [testimonial]: https://cowk.io/leave-testimonial?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=testimonial
  [office_hours]: https://cloudops.works/office-hours?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=office_hours
  [newsletter]: https://cowk.io/newsletter?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=newsletter
  [email]: https://cowk.io/email?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=email
  [commercial_support]: https://cowk.io/commercial-support?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=commercial_support
  [we_love_open_source]: https://cowk.io/we-love-open-source?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=we_love_open_source
  [terraform_modules]: https://cowk.io/terraform-modules?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=terraform_modules
  [readme_header_img]: https://cloudops.works/readme/header/img
  [readme_header_link]: https://cloudops.works/readme/header/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=readme_header_link
  [readme_footer_img]: https://cloudops.works/readme/footer/img
  [readme_footer_link]: https://cloudops.works/readme/footer/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=readme_footer_link
  [readme_commercial_support_img]: https://cloudops.works/readme/commercial-support/img
  [readme_commercial_support_link]: https://cloudops.works/readme/commercial-support/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-ses-configuration-sets&utm_content=readme_commercial_support_link
  [share_twitter]: https://twitter.com/intent/tweet/?text=Terraform+AWS+SES+Configuration+Set+Setup&url=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [share_linkedin]: https://www.linkedin.com/shareArticle?mini=true&title=Terraform+AWS+SES+Configuration+Set+Setup&url=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [share_reddit]: https://reddit.com/submit/?url=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [share_facebook]: https://facebook.com/sharer/sharer.php?u=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [share_googleplus]: https://plus.google.com/share?url=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [share_email]: mailto:?subject=Terraform+AWS+SES+Configuration+Set+Setup&body=https://github.com/cloudopsworks/terraform-module-aws-ses-configuration-sets
  [beacon]: https://ga-beacon.cloudops.works/G-7XWMFVFXZT/cloudopsworks/terraform-module-aws-ses-configuration-sets?pixel&cs=github&cm=readme&an=terraform-module-aws-ses-configuration-sets
